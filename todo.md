1. Record the size and position and open state of all windows in local storage
2. Open all links inside new windows and host them in iframes if it will work
